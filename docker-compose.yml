version: '3.8'

services:
  monitoring-system:
    build: .
    container_name: navigation-monitoring
    ports:
      - "3000:3000"
      - "4000:4000/udp"
    environment:
      - UDP_PORT=4000
      - WEB_PORT=3000
      - HOST=0.0.0.0
      - LOG_LEVEL=INFO
    volumes:
      - ./config:/app/config
      - ./logs:/app/logs
    restart: unless-stopped
    networks:
      - monitoring-network

  simulator:
    build: .
    container_name: navigation-simulator
    command: npm run simulator
    depends_on:
      - monitoring-system
    networks:
      - monitoring-network

networks:
  monitoring-network:
    driver: bridge
